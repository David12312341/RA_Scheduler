{% extends "base.html" %}
{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{url_for('.static', filename='calendar.css')}}">
{% endblock %}

{%- block headerRow %}
<h1>Brandt Hall RA Duty Calendar</h1>
<p>Below is the duty calendar for the month of {{ calDict["text_month"] }}</p>
{%- endblock headerRow %}

{% block contentRows %}
<div class="row">
    <div class="wrapper">
        <main>
            <div class="toolbar">
                <div class="toggle">
                    <div class="toggle__option">week</div>
                    <div class="toggle__option toggle__option--selected">month</div>
                </div>
                <div class="current-month">{{ calDict["text_month"] }}</div>
                <div class="search-input">
                    <input value="What are you looking for?" type="text">
                    <i class="fa fa-search"></i>
                </div>
            </div>
            {# The server will only create the calendar when it serves this page
               and the RA information will be given when the client requests it
               via a script that will run when the page is fully loaded in the
               browser. This behavior allows for shorter loading times when
               loading the page page. Additionally, this behavior might also
               work nicely for an archive feature where users can look up old
               schedules.

               TODO: Create a js script that will request the proper data from
                     the server and put that data on the calendar.

                     Create some sort of way for the user to know that the
                     calendar is loading when the page is displayed.

                     Figure out how to handle days outside of the scope of the
                     current month. Include date? Fade color? Keep Blank?
                #}
            <div class="calendar">
                <div class="calendar__header">
                    {% for d in ["sun","mon","tue","wed","thu","fri","sat"]: %}
                    <div>{{ d }}</div>
                    {% endfor %}
                </div>
                {% for week in cal: %}
                <div class="calendar__week">
                    {% for day in week: %}

                    {% if day[0] != 0: %}
                    <div class="calendar__day day" id="d{{ day[0] }}">
                        <div class="date">{{ day[0] }}</div>
                    </div>
                    {% else %}
                    <div class="calendar__day day oth">
                        <div class="date">0</div>
                    </div>
                    {% endif %}

                    {% endfor %}
                </div>
                {% endfor %}
            </div>
        </main>
    </div>
</div>
{% endblock %}
